# C# Asynchronous Programming Full Tutorial : Async / Await / Task and Deadlock Fix by ConfigureAwait

## Full tutorial link > https://www.youtube.com/watch?v=I4cnX_odC1M

[![C# Asynchronous Programming Full Tutorial : Async / Await / Task and Deadlock Fix by ConfigureAwait](https://img.youtube.com/vi/I4cnX_odC1M/sddefault.jpg)](https://www.youtube.com/watch?v=I4cnX_odC1M "C# Asynchronous Programming Full Tutorial : Async / Await / Task and Deadlock Fix by ConfigureAwait")

[![image](https://img.shields.io/discord/772774097734074388?label=Discord&logo=discord)](https://discord.com/servers/software-engineering-courses-secourses-772774097734074388) [![Hits](https://hits.sh/github.com/FurkanGozukara/Stable-Diffusion/blob/main/Tutorials/C-Asynchronous-Programming-Full-Tutorial-Async-Await-Task-and-Deadlock-Fix-by-ConfigureAwait.md.svg?style=plastic&label=Hits%20Since%2025.08.27&labelColor=007ec6&logo=SECourses)](https://hits.sh/github.com/FurkanGozukara/Stable-Diffusion/blob/main/Tutorials/C-Asynchronous-Programming-Full-Tutorial-Async-Await-Task-and-Deadlock-Fix-by-ConfigureAwait.md)
[![Patreon](https://img.shields.io/badge/Patreon-Support%20Me-F2EB0E?style=for-the-badge&logo=patreon)](https://www.patreon.com/c/SECourses) [![BuyMeACoffee](https://img.shields.io/badge/Buy%20Me%20a%20Coffee-ffdd00?style=for-the-badge&logo=buy-me-a-coffee&logoColor=black)](https://www.buymeacoffee.com/DrFurkan) [![Furkan Gözükara Medium](https://img.shields.io/badge/Medium-Follow%20Me-800080?style=for-the-badge&logo=medium&logoColor=white)](https://medium.com/@furkangozukara) [![Codio](https://img.shields.io/static/v1?style=for-the-badge&message=Articles&color=4574E0&logo=Codio&logoColor=FFFFFF&label=CivitAI)](https://civitai.com/user/SECourses/articles) [![Furkan Gözükara Medium](https://img.shields.io/badge/DeviantArt-Follow%20Me-990000?style=for-the-badge&logo=deviantart&logoColor=white)](https://www.deviantart.com/monstermmorpg)

[![YouTube Channel](https://img.shields.io/badge/YouTube-SECourses-C50C0C?style=for-the-badge&logo=youtube)](https://www.youtube.com/SECourses)  [![Furkan Gözükara LinkedIn](https://img.shields.io/badge/LinkedIn-Follow%20Me-0077B5?style=for-the-badge&logo=linkedin&logoColor=white)](https://www.linkedin.com/in/furkangozukara/)   [![Udemy](https://img.shields.io/static/v1?style=for-the-badge&message=Stable%20Diffusion%20Course&color=A435F0&logo=Udemy&logoColor=FFFFFF&label=Udemy)](https://www.udemy.com/course/stable-diffusion-dreambooth-lora-zero-to-hero/?referralCode=E327407C9BDF0CEA8156) [![Twitter Follow Furkan Gözükara](https://img.shields.io/badge/Twitter-Follow%20Me-1DA1F2?style=for-the-badge&logo=twitter&logoColor=white)](https://twitter.com/GozukaraFurkan)


In this lecture video, I am going to explain #asynchronous #programming concepts when using .NET Core 7 with C# #programming language. I will code a #WPF application to demonstrate #Async, #Await, #ConfigureAwait, and #Task concepts while doing asynchronous coding. I will show how ConfigureAwait is important to prevent deadlocks while using "async" and "await" keywords.

The code repository of this lecture :

[https://github.com/FurkanGozukara/C-Async-Await-Task-Deadlock-Fix-by-ConfigureAwait-Full-Tutorial-Asynchronous-Programming](https://github.com/FurkanGozukara/C-Async-Await-Task-Deadlock-Fix-by-ConfigureAwait-Full-Tutorial-Asynchronous-Programming)

Moreover, we cover the following #howto topics:

* How to do asynchronous programming with C# and .NET

* How to use Async, Await and ConfigureAwait

* How to use Task, Task.Wait and ContinueWith

* How to utilize Dispatcher.BeginInvoke to update UI elements from different tasks, sub-tasks, threads

* How to utilize Thread.CurrentThread.ManagedThreadId to see which code is executed in which thread

* How to download source of a web page / URL asynchronously and properly with using HttpClient and Content.ReadAsStringAsync

[00:00:00](https://youtu.be/I4cnX_odC1M?t=0) Introduction Task, Async, Await and composing the demo application

[00:02:18](https://youtu.be/I4cnX_odC1M?t=138) Generating Async deadlock causing example

[00:08:03](https://youtu.be/I4cnX_odC1M?t=483) How to see thread IDs during the runtime

[00:11:47](https://youtu.be/I4cnX_odC1M?t=707) How to fix deadlock

[00:13:50](https://youtu.be/I4cnX_odC1M?t=830) How to use ConfigureAwait properly

[00:14:48](https://youtu.be/I4cnX_odC1M?t=888) How to make UI responsive with proper Async Await usage

[00:17:09](https://youtu.be/I4cnX_odC1M?t=1029) How to make async but main thread blocking code with TaskFactory.StartNew and Task.Wait

[00:20:52](https://youtu.be/I4cnX_odC1M?t=1252) How to make fully asynchronous and non-blocking UI with TaskFactory and ContinueWith

[00:23:36](https://youtu.be/I4cnX_odC1M?t=1416) How to update UI thread from sub-thread with Dispatcher

We have manually corrected the subtitles for the video so watch the tutorial with subtitles on if you have a hard time understand

Please join Our Discord server for asking questions and have discussions: [https://discord.gg/rfttctFewW](https://discord.gg/rfttctFewW)

Please follow us on Twitter: [https://twitter.com/SECourses](https://twitter.com/SECourses)

Please follow us on Facebook: [https://www.facebook.com/OfficialSECourses](https://www.facebook.com/OfficialSECourses)

If you are interested in programming our playlists will teach you how to program and code from scratch: [https://www.youtube.com/c/SECourses/playlists](https://www.youtube.com/c/SECourses/playlists)

[1] Introduction to Programming Full Course with C# playlist

[2] Advanced Programming with C# Full Course Playlist

[3] Object Oriented Programming Full Course with C# playlist

[4] Asp #NETCore V5 - MVC Pattern - Bootstrap V5 - Responsive Web Programming with C# Full Course Playlist

[5] Artificial Intelligence (AI) and Machine Learning (ML) Full Course with C# Examples playlist

[6] Software Engineering Full Course playlist

[7] Security of Information Systems Full Course playlist

Thumbnail: Freepik (@fullvector) - Data processing, software program development, code review, database concept. #dotnet #dotnet7 #csharp



### Video Transcription


- [00:00:00](https://www.youtube.com/watch?v=I4cnX_odC1M&t=0) Hello everyone. I am Dr. Furkan Gözükara. In this&nbsp; lecture video, I am going to explain asynchronous&nbsp;&nbsp;

- [00:00:07](https://www.youtube.com/watch?v=I4cnX_odC1M&t=7) programming concepts when using .NET Core 7 with&nbsp; C-Sharp programming language. I will code a WPF&nbsp;&nbsp;

- [00:00:14](https://www.youtube.com/watch?v=I4cnX_odC1M&t=14) application to demonstrate async, await, configure&nbsp; await and task concepts while doing asynchronous&nbsp;&nbsp;

- [00:00:21](https://www.youtube.com/watch?v=I4cnX_odC1M&t=21) coding. I will show how ConfigureAwait is&nbsp; important to prevent deadlocks while using&nbsp;&nbsp;

- [00:00:27](https://www.youtube.com/watch?v=I4cnX_odC1M&t=27) async and await keywords. Let's start coding&nbsp; with composing a .NET Core 7 WPF application.&nbsp;&nbsp;

- [00:00:33](https://www.youtube.com/watch?v=I4cnX_odC1M&t=33) If your Visual Studio is lacking .NET Core 7,&nbsp; just download latest Visual Studio Community&nbsp;&nbsp;

- [00:00:39](https://www.youtube.com/watch?v=I4cnX_odC1M&t=39) Edition and update it to the latest version. Here&nbsp; let me show you how to update your Visual Studio.&nbsp;&nbsp;

- [00:01:01](https://www.youtube.com/watch?v=I4cnX_odC1M&t=61) As you can see, my Visual Studio is up&nbsp; to date. Its version is 17.4.1. Okay,&nbsp;&nbsp;

- [00:01:08](https://www.youtube.com/watch?v=I4cnX_odC1M&t=68) so let's start composing our WPF project.&nbsp; I am going to pick WPF application. You&nbsp;&nbsp;

- [00:01:15](https://www.youtube.com/watch?v=I4cnX_odC1M&t=75) can also look for it with searching WPF. And&nbsp; then you see there is ASP.NET Core WPF app.&nbsp;&nbsp;

- [00:01:24](https://www.youtube.com/watch?v=I4cnX_odC1M&t=84) Then click next. Okay, it will&nbsp; be in my desktop. Let's say&nbsp;&nbsp;

- [00:01:32](https://www.youtube.com/watch?v=I4cnX_odC1M&t=92) async programming. I am going to pick .NET&nbsp; 7 and this is .NET Core web app. Let's fix&nbsp;&nbsp;

- [00:01:41](https://www.youtube.com/watch?v=I4cnX_odC1M&t=101) it quickly. Okay, here WPF application&nbsp; and it is with .NET Core. Okay, next.&nbsp;&nbsp;

- [00:01:53](https://www.youtube.com/watch?v=I4cnX_odC1M&t=113) You see it says that there is WPF&nbsp; application. Okay .NET Core 7.&nbsp;&nbsp;

- [00:02:06](https://www.youtube.com/watch?v=I4cnX_odC1M&t=126) Okay, application is started now. The&nbsp; interface is loaded. So let's start&nbsp;&nbsp;

- [00:02:14](https://www.youtube.com/watch?v=I4cnX_odC1M&t=134) with generating a button control. First I will&nbsp; show you how a deadlock can happen when we are&nbsp;&nbsp;

- [00:02:23](https://www.youtube.com/watch?v=I4cnX_odC1M&t=143) doing asynchronous programming with async and&nbsp; await keywords. Let's say test async deadlock.&nbsp;&nbsp;

- [00:02:42](https://www.youtube.com/watch?v=I4cnX_odC1M&t=162) Okay and with double clicking it I&nbsp; am going to compose click event here.&nbsp;&nbsp;

- [00:02:49](https://www.youtube.com/watch?v=I4cnX_odC1M&t=169) Okay, so let's assume that we have an&nbsp; async method that will return a string.&nbsp;&nbsp;

- [00:02:57](https://www.youtube.com/watch?v=I4cnX_odC1M&t=177) Let's say return source code of&nbsp; a web page as a string. Okay.&nbsp;&nbsp;

- [00:03:18](https://www.youtube.com/watch?v=I4cnX_odC1M&t=198) I will use HTTP client.&nbsp;&nbsp;

- [00:03:24](https://www.youtube.com/watch?v=I4cnX_odC1M&t=204) Okay and inside here we will use.&nbsp;&nbsp;

- [00:03:34](https://www.youtube.com/watch?v=I4cnX_odC1M&t=214) We will use HTTP response.&nbsp;&nbsp;

- [00:03:40](https://www.youtube.com/watch?v=I4cnX_odC1M&t=220) Okay. Sorry not not necessarily we need that.&nbsp;&nbsp;

- [00:03:56](https://www.youtube.com/watch?v=I4cnX_odC1M&t=236) You see it has suggested me to auto complete is&nbsp; like this and it's correct. And we will return.&nbsp;&nbsp;

- [00:04:09](https://www.youtube.com/watch?v=I4cnX_odC1M&t=249) Response request. Content. Okay,&nbsp; then let's see. Okay, like this.&nbsp;&nbsp;

- [00:04:24](https://www.youtube.com/watch?v=I4cnX_odC1M&t=264) All right. However, since this is asynchronous&nbsp; with async keyword. We need to say await here.&nbsp;&nbsp;

- [00:04:34](https://www.youtube.com/watch?v=I4cnX_odC1M&t=274) And since this is an async method, we can't just&nbsp; return it like this. We have to return a task&nbsp;&nbsp;

- [00:04:43](https://www.youtube.com/watch?v=I4cnX_odC1M&t=283) like this. Okay. And let's add a label or a text&nbsp;&nbsp;

- [00:04:49](https://www.youtube.com/watch?v=I4cnX_odC1M&t=289) block to display source code.&nbsp; I'm going to pick a text block.&nbsp;&nbsp;

- [00:04:57](https://www.youtube.com/watch?v=I4cnX_odC1M&t=297) Okay, let's name it as block source code.&nbsp;&nbsp;

- [00:05:05](https://www.youtube.com/watch?v=I4cnX_odC1M&t=305) Okay, I have named it as txt block source code.&nbsp;&nbsp;

- [00:05:10](https://www.youtube.com/watch?v=I4cnX_odC1M&t=310) Then let's assign text of txt block&nbsp; source code equal to return source code of&nbsp;&nbsp;

- [00:05:21](https://www.youtube.com/watch?v=I4cnX_odC1M&t=321) my developed web game web based game, which&nbsp; is HTTPS www monsters MMORPG.com. Okay.&nbsp;&nbsp;

- [00:05:33](https://www.youtube.com/watch?v=I4cnX_odC1M&t=333) However, to access result of async method, we&nbsp; have to get result. So what does this async do?&nbsp;&nbsp;

- [00:05:45](https://www.youtube.com/watch?v=I4cnX_odC1M&t=345) Async means that that method is asynchronous and&nbsp; it will not block the thread that it is executed.&nbsp;&nbsp;

- [00:05:58](https://www.youtube.com/watch?v=I4cnX_odC1M&t=358) However, to get its result,&nbsp; I need to use await keyword.&nbsp;&nbsp;

- [00:06:04](https://www.youtube.com/watch?v=I4cnX_odC1M&t=364) And when you use await keyword, then&nbsp; you don't need to access it by result.&nbsp;&nbsp;

- [00:06:12](https://www.youtube.com/watch?v=I4cnX_odC1M&t=372) So when I run this code, what will happen? Let's&nbsp; see. Let's run and run our application and see.&nbsp;&nbsp;

- [00:06:26](https://www.youtube.com/watch?v=I4cnX_odC1M&t=386) Okay, I am clicking it and you see it has returned&nbsp; the result as expected. Because because there is a&nbsp;&nbsp;

- [00:06:39](https://www.youtube.com/watch?v=I4cnX_odC1M&t=399) key issue here, you see my button click is now&nbsp; also asynchronous. However, if I don't want to&nbsp;&nbsp;

- [00:06:48](https://www.youtube.com/watch?v=I4cnX_odC1M&t=408) make it asynchronous, then I need to return&nbsp; async keyword here that the Visual Studio&nbsp;&nbsp;

- [00:06:54](https://www.youtube.com/watch?v=I4cnX_odC1M&t=414) did put automatically and I need to use result&nbsp; like this. Okay, let's see now what happens.&nbsp;&nbsp;

- [00:07:06](https://www.youtube.com/watch?v=I4cnX_odC1M&t=426) Okay, I'm clicking and my application&nbsp; is completely frozen. Do you know why?&nbsp;&nbsp;

- [00:07:13](https://www.youtube.com/watch?v=I4cnX_odC1M&t=433) Because currently the UI thread&nbsp; is blocked. The reason is that UI&nbsp;&nbsp;

- [00:07:20](https://www.youtube.com/watch?v=I4cnX_odC1M&t=440) thread is waiting to waiting the result&nbsp; of this method call and this method call&nbsp;&nbsp;

- [00:07:28](https://www.youtube.com/watch?v=I4cnX_odC1M&t=448) is not able to execute because the UI thread is&nbsp; already frozen. So how can I solve this problem?&nbsp;&nbsp;

- [00:07:40](https://www.youtube.com/watch?v=I4cnX_odC1M&t=460) So for solving this problem, I can use configure&nbsp; await. So when you set configure await false&nbsp;&nbsp;

- [00:07:49](https://www.youtube.com/watch?v=I4cnX_odC1M&t=469) on an async method, this means that this&nbsp; method can now run on a different thread.&nbsp;&nbsp;

- [00:07:59](https://www.youtube.com/watch?v=I4cnX_odC1M&t=479) Okay, so to see the thread IDs that each method&nbsp; is running, let's use managed thread ID code.&nbsp;&nbsp;

- [00:08:11](https://www.youtube.com/watch?v=I4cnX_odC1M&t=491) Okay, let's write it to our&nbsp; output window with thread.&nbsp;&nbsp;

- [00:08:23](https://www.youtube.com/watch?v=I4cnX_odC1M&t=503) Okay, current thread manage thread&nbsp; ID. Okay, so it says that thread is&nbsp;&nbsp;

- [00:08:27](https://www.youtube.com/watch?v=I4cnX_odC1M&t=507) not existing in the current context&nbsp; for that I am adding using threads.&nbsp;&nbsp;

- [00:08:34](https://www.youtube.com/watch?v=I4cnX_odC1M&t=514) Okay, so this will print the thread ID of the&nbsp; thread that this line is executed. Then let's&nbsp;&nbsp;

- [00:08:42](https://www.youtube.com/watch?v=I4cnX_odC1M&t=522) also see the thread ID here. Let's also&nbsp; add some extra information as the inside&nbsp;&nbsp;

- [00:08:54](https://www.youtube.com/watch?v=I4cnX_odC1M&t=534) here. Then let's also write it as like&nbsp; this inside here. And then one second.&nbsp;&nbsp;

- [00:09:08](https://www.youtube.com/watch?v=I4cnX_odC1M&t=548) Okay, inside the first using statement inside&nbsp; using HTTP client and inside here. Okay, so&nbsp;&nbsp;

- [00:09:28](https://www.youtube.com/watch?v=I4cnX_odC1M&t=568) first, let's run it without configure,&nbsp; await and see which output we are getting.&nbsp;&nbsp;

- [00:09:40](https://www.youtube.com/watch?v=I4cnX_odC1M&t=580) Okay, let's check out the output window. So, okay,&nbsp; we see that inside btnTestAsyncDeadLock_Click,&nbsp;&nbsp;

- [00:09:51](https://www.youtube.com/watch?v=I4cnX_odC1M&t=591) which is here, the thread ID is one. It is&nbsp; expected because we are currently inside&nbsp;&nbsp;

- [00:09:58](https://www.youtube.com/watch?v=I4cnX_odC1M&t=598) the main UI thread, and it is one and in the&nbsp; source code. So it has entered here, we are&nbsp;&nbsp;

- [00:10:06](https://www.youtube.com/watch?v=I4cnX_odC1M&t=606) still inside thread ID one. And then we have&nbsp; entered here as well inside using HTTP client.&nbsp;&nbsp;

- [00:10:16](https://www.youtube.com/watch?v=I4cnX_odC1M&t=616) However, since we are doing await here,&nbsp; now it becomes asynchronous call and it&nbsp;&nbsp;

- [00:10:27](https://www.youtube.com/watch?v=I4cnX_odC1M&t=627) locks our execution. And you see we didn't&nbsp; enter inside here because the UI thread is&nbsp;&nbsp;

- [00:10:37](https://www.youtube.com/watch?v=I4cnX_odC1M&t=637) now awaiting that response. So the main&nbsp; thread is UI thread is locked, frozen.&nbsp;&nbsp;

- [00:10:46](https://www.youtube.com/watch?v=I4cnX_odC1M&t=646) And this execution is waiting that thread to be&nbsp; released. Okay, so when I add this execution,&nbsp;&nbsp;

- [00:11:00](https://www.youtube.com/watch?v=I4cnX_odC1M&t=660) configure await as false. Now let's see&nbsp; how to output. Let's see the output again.&nbsp;&nbsp;

- [00:11:11](https://www.youtube.com/watch?v=I4cnX_odC1M&t=671) Okay, the button is still frozen because it is&nbsp; not anymore asynchronous. However, now we can&nbsp;&nbsp;

- [00:11:17](https://www.youtube.com/watch?v=I4cnX_odC1M&t=677) see inside using response. You see inside here now&nbsp; running in a different thread and the thread ID is&nbsp;&nbsp;

- [00:11:24](https://www.youtube.com/watch?v=I4cnX_odC1M&t=684) six. Okay, so this is where configure await is&nbsp; very useful because when you set ConfigureAwait&nbsp;&nbsp;

- [00:11:36](https://www.youtube.com/watch?v=I4cnX_odC1M&t=696) false, then that asynchronous method call becomes,&nbsp; starts running in a different thread. Okay,&nbsp;&nbsp;

- [00:11:48](https://www.youtube.com/watch?v=I4cnX_odC1M&t=708) so if we don't want the interface to be&nbsp; frozen, let's copy and paste this button.&nbsp;&nbsp;

- [00:11:54](https://www.youtube.com/watch?v=I4cnX_odC1M&t=714) And let's say btn test proper async&nbsp; code. Okay, proper async code.&nbsp;&nbsp;

- [00:12:05](https://www.youtube.com/watch?v=I4cnX_odC1M&t=725) Okay, so this will cause a deadlock,&nbsp; so I'm going to delete this.&nbsp;&nbsp;

- [00:12:13](https://www.youtube.com/watch?v=I4cnX_odC1M&t=733) All right. Oh, we don't need that actually.&nbsp; So this is return source code with&nbsp;&nbsp;

- [00:12:23](https://www.youtube.com/watch?v=I4cnX_odC1M&t=743) or let's say let's add an option here.&nbsp; Bool cause deadlock equal to false. Okay.&nbsp;&nbsp;

- [00:12:37](https://www.youtube.com/watch?v=I4cnX_odC1M&t=757) Okay, so if you don't want to cause deadlock,&nbsp; then configure await. Then I need to&nbsp;&nbsp;

- [00:12:46](https://www.youtube.com/watch?v=I4cnX_odC1M&t=766) give opposite of this. So by default it will&nbsp; cause a deadlock and to cause a deadlock. We need&nbsp;&nbsp;

- [00:12:54](https://www.youtube.com/watch?v=I4cnX_odC1M&t=774) to give configure await true. Okay. Maybe this&nbsp; make make you confused. So let's say bl configure&nbsp;&nbsp;

- [00:13:06](https://www.youtube.com/watch?v=I4cnX_odC1M&t=786) await by default. Let's make it&nbsp; false so it won't cause a deadlock.&nbsp;&nbsp;

- [00:13:13](https://www.youtube.com/watch?v=I4cnX_odC1M&t=793) Okay, now it won't cause a deadlock. So to cause&nbsp; a deadlock, I need to provide it true. Okay. Yes,&nbsp;&nbsp;

- [00:13:25](https://www.youtube.com/watch?v=I4cnX_odC1M&t=805) now it will cause a deadlock. Let's try. Okay,&nbsp; so you see we are never getting inside here.&nbsp;&nbsp;

- [00:13:36](https://www.youtube.com/watch?v=I4cnX_odC1M&t=816) So now it is deadlocked because main thread the&nbsp; UI thread is awaiting the result and the result&nbsp;&nbsp;

- [00:13:45](https://www.youtube.com/watch?v=I4cnX_odC1M&t=825) is awaiting main thread UI thread to be released&nbsp; to run. Okay, so each one is awaiting each one&nbsp;&nbsp;

- [00:13:54](https://www.youtube.com/watch?v=I4cnX_odC1M&t=834) and it causes a deadlock. All right, so let's&nbsp; make this as none that's locking or let's say&nbsp;&nbsp;

- [00:14:07](https://www.youtube.com/watch?v=I4cnX_odC1M&t=847) configure await asynchronous code. Okay,&nbsp; I need to change its click event. We can&nbsp;&nbsp;

- [00:14:18](https://www.youtube.com/watch?v=I4cnX_odC1M&t=858) configure await async code. Okay. This time we&nbsp; are just going to run it with false and let's try.&nbsp;&nbsp;

- [00:14:36](https://www.youtube.com/watch?v=I4cnX_odC1M&t=876) Okay, still, the interface is frozen during&nbsp; the runtime because this button click is not&nbsp;&nbsp;

- [00:14:42](https://www.youtube.com/watch?v=I4cnX_odC1M&t=882) asynchronous. However, it is not that locked.&nbsp; Okay. And let's also add another button, which&nbsp;&nbsp;

- [00:14:52](https://www.youtube.com/watch?v=I4cnX_odC1M&t=892) will be responsive. We can responsive. Okay, async&nbsp; click. Let's say it as responsive async click.&nbsp;&nbsp;

- [00:15:08](https://www.youtube.com/watch?v=I4cnX_odC1M&t=908) Okay, and I need to generate a new click event.&nbsp; Okay, so I'm going to mark this method as async&nbsp;&nbsp;

- [00:15:20](https://www.youtube.com/watch?v=I4cnX_odC1M&t=920) and I can also let Visual Studio to mark&nbsp; it as async automatically with await.&nbsp;&nbsp;

- [00:15:30](https://www.youtube.com/watch?v=I4cnX_odC1M&t=930) Okay, now you see it is&nbsp; automatically marked as async. Okay,&nbsp;&nbsp;

- [00:15:38](https://www.youtube.com/watch?v=I4cnX_odC1M&t=938) now in this case, it will not freeze the&nbsp; interface. Let's try. Okay, let's try again.&nbsp;&nbsp;

- [00:15:49](https://www.youtube.com/watch?v=I4cnX_odC1M&t=949) Okay, the interface is not freezing. However,&nbsp; meanwhile, the text block is getting updated.&nbsp;&nbsp;

- [00:15:56](https://www.youtube.com/watch?v=I4cnX_odC1M&t=956) During that time, the interface will freeze,&nbsp; of course, because it is getting updated.&nbsp;&nbsp;

- [00:16:02](https://www.youtube.com/watch?v=I4cnX_odC1M&t=962) And since source code is pretty big,&nbsp; it is not displayed entirely here.&nbsp;&nbsp;

- [00:16:09](https://www.youtube.com/watch?v=I4cnX_odC1M&t=969) It takes some time. Actually, maybe we can&nbsp; fix it with. Okay. I don't know. Let's see.&nbsp;&nbsp;

- [00:16:19](https://www.youtube.com/watch?v=I4cnX_odC1M&t=979) Max with max height, for example, let's&nbsp; say 6000 and let's see what happens.&nbsp;&nbsp;

- [00:16:28](https://www.youtube.com/watch?v=I4cnX_odC1M&t=988) Okay, probably we need to add scroll bars.&nbsp; Let's see horizontal alignment. No scroll,&nbsp;&nbsp;

- [00:16:37](https://www.youtube.com/watch?v=I4cnX_odC1M&t=997) scroll bar. Okay, scroll. No. Okay, anyway, it is&nbsp; not important for this lecture. And there is one&nbsp;&nbsp;

- [00:16:48](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1008) another methodology, one more method, actually&nbsp; two more methodology. So let's also see them.&nbsp;&nbsp;

- [00:16:54](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1014) I'm going to expand this a&nbsp; little bit more. Why? Okay,&nbsp;&nbsp;

- [00:17:07](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1027) here. Okay. Now I will use task&nbsp; methodology. Okay, so btnTaskExample.&nbsp;&nbsp;

- [00:17:17](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1037) I will call this as task version one. Okay, and&nbsp; let's generate this click event. So this time I&nbsp;&nbsp;

- [00:17:28](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1048) will start this code inside or let's say as a task&nbsp; task. Let's say var task = Task.Factory.StartNew.&nbsp;&nbsp;

- [00:17:42](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1062) Okay. It automatically completes. Very&nbsp; nice. And let's call it like this.&nbsp;&nbsp;

- [00:17:50](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1070) And by the way, still this is a async&nbsp; method. So I need to call await.&nbsp;&nbsp;

- [00:17:59](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1079) And I need to assign this into a string&nbsp; variable. Let's say string source.&nbsp;&nbsp;

- [00:18:10](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1090) Like this. And let's say the source&nbsp; is equal to await.result. Okay. Okay.&nbsp;&nbsp;

- [00:18:24](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1104) I need to provide the source code, of course.&nbsp; I mean the URL. All right. And no result. Okay.&nbsp;&nbsp;

- [00:18:34](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1114) And then what do I need to do is. I can do&nbsp; task.wait. This will make it synchronous.&nbsp;&nbsp;

- [00:18:45](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1125) And then I can assign the source like this.&nbsp; Okay. It says that this can be null here. So&nbsp;&nbsp;

- [00:18:57](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1137) let's initialize it like this. All right.&nbsp; You see, it is still pretty responsive.&nbsp;&nbsp;

- [00:19:08](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1148) But we never get the result. So in this&nbsp; case. We need to set configure await true.&nbsp;&nbsp;

- [00:19:20](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1160) Otherwise it will return from that asynchronous&nbsp; and the task wait will never work. I suppose.&nbsp;&nbsp;

- [00:19:28](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1168) Let's try. Yes, we did enter inside the request.&nbsp; Okay. All right. This is the sound of my girl.&nbsp;&nbsp;

- [00:19:42](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1182) Okay, we do. We do enter inside the request.&nbsp; However, it is obvious that the source code&nbsp;&nbsp;

- [00:19:52](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1192) is immediately executed without waiting. So&nbsp; the task is completed immediately. Since we&nbsp;&nbsp;

- [00:20:00](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1200) are doing an asynchronous call here. And&nbsp; therefore, maybe we need to do. Let's see.&nbsp;&nbsp;

- [00:20:11](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1211) Okay, we need to turn this asynchronous call into&nbsp; a synchronous call because we are already spawning&nbsp;&nbsp;

- [00:20:18](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1218) a new task. And here we just need to provide&nbsp; or let's say, get result. Okay. And we need to&nbsp;&nbsp;

- [00:20:28](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1228) remove the wait keyword. All right. Now, since&nbsp; this will run inside a different thread than the&nbsp;&nbsp;

- [00:20:37](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1237) main thread, then it won't cause any problem as&nbsp; a deadlock. However, our interface will be still&nbsp;&nbsp;

- [00:20:46](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1246) frozen. Let's try. Okay. It is working. Now let's&nbsp; make another example of task with ContinueWith. So&nbsp;&nbsp;

- [00:20:58](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1258) I will call this task as version two. Okay.&nbsp; And let's say btn task version two. All right.&nbsp;&nbsp;

- [00:21:11](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1271) Okay. Okay. So in this case, we are&nbsp; going to use a different methodology as&nbsp;&nbsp;

- [00:21:23](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1283) continue with. All right. And it says we need a&nbsp; new action. Okay. Action. Okay. And. It says task.&nbsp;&nbsp;

- [00:21:43](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1303) Okay, one moment. It is pretty simple, actually.&nbsp; So we are going to call this T1 parameter,&nbsp;&nbsp;

- [00:21:53](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1313) which will be when we hover it, we see that it&nbsp; is task T1. So this means that it is the result&nbsp;&nbsp;

- [00:21:59](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1319) of execution of this task. Okay. And inside that&nbsp; we will have the result of the task. Therefore,&nbsp;&nbsp;

- [00:22:10](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1330) I will assign. I don't need this&nbsp; anymore. The text as equal to Ok.&nbsp;&nbsp;

- [00:22:21](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1341) T1. Okay. Result. Okay. And I just need to&nbsp; return the result of the inner execution. Okay.&nbsp;&nbsp;

- [00:22:35](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1355) Now this is supposed to not block anything&nbsp; and update the text block. Let's try. Okay.&nbsp;&nbsp;

- [00:22:41](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1361) It is not block it. Okay. Inside is called. All&nbsp; right. So we have a little bit. Another problem.&nbsp;&nbsp;

- [00:22:51](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1371) Okay. Which is this is task return. Okay.&nbsp; We are waiting it. We are locking it.&nbsp;&nbsp;

- [00:22:59](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1379) So let's try. Maybe we didn't wait. Okay. We&nbsp; did enter inside. Oh, we have a system invalid&nbsp;&nbsp;

- [00:23:08](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1388) operation exception somewhere. Okay. Let's put&nbsp; a break point here. Maybe our error is there.&nbsp;&nbsp;

- [00:23:17](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1397) Okay. And. When we debug the result. Okay. The&nbsp; result is there as well. Oh, I know the reason.&nbsp;&nbsp;

- [00:23:26](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1406) I know the problem. The problem is we cannot&nbsp; update the UI element inside another task. So&nbsp;&nbsp;

- [00:23:37](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1417) I need to do use dispatcher.&nbsp; Let's say begin invoke new action.&nbsp;&nbsp;

- [00:23:45](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1425) And inside that I need to assign it. Okay. So you&nbsp; see it defines a new action like this. And it's&nbsp;&nbsp;

- [00:23:54](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1434) anonymous call because we don't get we don't&nbsp; need any parameter. Actually, it is like here,&nbsp;&nbsp;

- [00:24:00](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1440) as you can see. But this is empty action.&nbsp; And yes, now it should work. Let's try.&nbsp;&nbsp;

- [00:24:10](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1450) OK. All right. I have shown multiple ways to use&nbsp; async and task to do asynchronous programming.&nbsp;&nbsp;

- [00:24:22](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1462) I hope you have enjoyed. Please ask your questions&nbsp; in the comments section. Hopefully see you&nbsp;&nbsp;

- [00:24:30](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1470) in another video. Let me know through comment&nbsp; section that what questions do you have? What&nbsp;&nbsp;

- [00:24:39](https://www.youtube.com/watch?v=I4cnX_odC1M&t=1479) topics do you wonder? What would you like to see&nbsp; in my next video? OK. Hopefully see you later.
