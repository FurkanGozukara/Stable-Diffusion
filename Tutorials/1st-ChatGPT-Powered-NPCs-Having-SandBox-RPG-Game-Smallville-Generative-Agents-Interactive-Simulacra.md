# 1st ChatGPT Powered NPCs Having SandBox RPG Game Smallville: Generative Agents Interactive Simulacra

## Full tutorial link > https://www.youtube.com/watch?v=aIDSmgsT4p8

[![1st ChatGPT Powered NPCs Having SandBox RPG Game Smallville: Generative Agents Interactive Simulacra](https://img.youtube.com/vi/aIDSmgsT4p8/sddefault.jpg)](https://www.youtube.com/watch?v=aIDSmgsT4p8 "1st ChatGPT Powered NPCs Having SandBox RPG Game Smallville: Generative Agents Interactive Simulacra")

[![image](https://img.shields.io/discord/772774097734074388?label=Discord&logo=discord)](https://discord.com/servers/software-engineering-courses-secourses-772774097734074388) [![Hits](https://hits.sh/github.com/FurkanGozukara/Stable-Diffusion/blob/main/Tutorials/1st-ChatGPT-Powered-NPCs-Having-SandBox-RPG-Game-Smallville-Generative-Agents-Interactive-Simulacra.md.svg?style=plastic&label=Hits%20Since%2025.08.27&labelColor=007ec6&logo=SECourses)](https://hits.sh/github.com/FurkanGozukara/Stable-Diffusion/blob/main/Tutorials/1st-ChatGPT-Powered-NPCs-Having-SandBox-RPG-Game-Smallville-Generative-Agents-Interactive-Simulacra.md)
[![Patreon](https://img.shields.io/badge/Patreon-Support%20Me-F2EB0E?style=for-the-badge&logo=patreon)](https://www.patreon.com/c/SECourses) [![BuyMeACoffee](https://img.shields.io/badge/Buy%20Me%20a%20Coffee-ffdd00?style=for-the-badge&logo=buy-me-a-coffee&logoColor=black)](https://www.buymeacoffee.com/DrFurkan) [![Furkan G√∂z√ºkara Medium](https://img.shields.io/badge/Medium-Follow%20Me-800080?style=for-the-badge&logo=medium&logoColor=white)](https://medium.com/@furkangozukara) [![Codio](https://img.shields.io/static/v1?style=for-the-badge&message=Articles&color=4574E0&logo=Codio&logoColor=FFFFFF&label=CivitAI)](https://civitai.com/user/SECourses/articles) [![Furkan G√∂z√ºkara Medium](https://img.shields.io/badge/DeviantArt-Follow%20Me-990000?style=for-the-badge&logo=deviantart&logoColor=white)](https://www.deviantart.com/monstermmorpg)

[![YouTube Channel](https://img.shields.io/badge/YouTube-SECourses-C50C0C?style=for-the-badge&logo=youtube)](https://www.youtube.com/SECourses)  [![Furkan G√∂z√ºkara LinkedIn](https://img.shields.io/badge/LinkedIn-Follow%20Me-0077B5?style=for-the-badge&logo=linkedin&logoColor=white)](https://www.linkedin.com/in/furkangozukara/)   [![Udemy](https://img.shields.io/static/v1?style=for-the-badge&message=Stable%20Diffusion%20Course&color=A435F0&logo=Udemy&logoColor=FFFFFF&label=Udemy)](https://www.udemy.com/course/stable-diffusion-dreambooth-lora-zero-to-hero/?referralCode=E327407C9BDF0CEA8156) [![Twitter Follow Furkan G√∂z√ºkara](https://img.shields.io/badge/Twitter-Follow%20Me-1DA1F2?style=for-the-badge&logo=twitter&logoColor=white)](https://twitter.com/GozukaraFurkan)


Discord: [https://bit.ly/SECoursesDiscord.](https://bit.ly/SECoursesDiscord.) So many people were dreaming of NPC agents powered by ChatGPT. Here the first model of such games. If I have been of assistance to you and you would like to show your support for my work, please consider becoming a patron on ü•∞ [https://www.patreon.com/SECourses](https://www.patreon.com/SECourses)

This game is like playing The Sims against real people not NPCs.

Scientific Paper PDF ‚§µÔ∏è

[https://arxiv.org/pdf/2304.03442.pdf](https://arxiv.org/pdf/2304.03442.pdf)

Pre-recorded demo of the game ‚§µÔ∏è

[https://reverie.herokuapp.com/arXiv_Demo/](https://reverie.herokuapp.com/arXiv_Demo/)

Technology & Science: News, Tips, Tutorials, Tricks, Best Applications, Guides, Reviews ‚§µÔ∏è

[https://www.youtube.com/playlist?list=PL_pbwdIyffsnkay6X91BWb9rrfLATUMr3](https://www.youtube.com/playlist?list=PL_pbwdIyffsnkay6X91BWb9rrfLATUMr3)

Playlist of StableDiffusion Tutorials, Automatic1111 and Google Colab Guides, DreamBooth, Textual Inversion / Embedding, LoRA, AI Upscaling, Pix2Pix, Img2Img ‚§µÔ∏è

[https://www.youtube.com/playlist?list=PL_pbwdIyffsmclLl0O144nQRnezKlNdx3](https://www.youtube.com/playlist?list=PL_pbwdIyffsmclLl0O144nQRnezKlNdx3)

[00:00:00](https://youtu.be/aIDSmgsT4p8?t=0) Introduction to ChatGPT powered agents having first ever made RPG game Smallville

[00:00:48](https://youtu.be/aIDSmgsT4p8?t=48) What is Smallville SandBox RPG Game

[00:01:12](https://youtu.be/aIDSmgsT4p8?t=72) The community of the ChatGPT powered Smallville game

[00:02:05](https://youtu.be/aIDSmgsT4p8?t=125) Core concept of the run by the GPT engine Smallville game

[00:02:09](https://youtu.be/aIDSmgsT4p8?t=129) Inter-agent communication

[00:03:27](https://youtu.be/aIDSmgsT4p8?t=207) User control

[00:03:40](https://youtu.be/aIDSmgsT4p8?t=220) Environmental interaction

[00:04:08](https://youtu.be/aIDSmgsT4p8?t=248) Smallville sandbox environment implementation

[00:04:23](https://youtu.be/aIDSmgsT4p8?t=263) Example day in life of ChatGPT powered agents

[00:04:42](https://youtu.be/aIDSmgsT4p8?t=282) Why the game is still far away from being a full-fledged game

[00:05:11](https://youtu.be/aIDSmgsT4p8?t=311) Each day a new plan is made

[00:05:40](https://youtu.be/aIDSmgsT4p8?t=340) Emerging social behaviors

[00:05:56](https://youtu.be/aIDSmgsT4p8?t=356) Information diffusion

[00:06:20](https://youtu.be/aIDSmgsT4p8?t=380) Relationship memory

[00:06:53](https://youtu.be/aIDSmgsT4p8?t=413) The hardest part of such ChatGPT powered agents having RPG game making

[00:07:25](https://youtu.be/aIDSmgsT4p8?t=445) Workflow of the Smallville game

[00:08:12](https://youtu.be/aIDSmgsT4p8?t=492) Generative agent architecture

[00:08:59](https://youtu.be/aIDSmgsT4p8?t=539) Memory and retrieval - the core of the game

[00:10:10](https://youtu.be/aIDSmgsT4p8?t=610) Memory stream architecture

[00:14:02](https://youtu.be/aIDSmgsT4p8?t=842) Reflection memory

[00:15:24](https://youtu.be/aIDSmgsT4p8?t=924) Planning and reaction

[00:16:53](https://youtu.be/aIDSmgsT4p8?t=1013) Reacting and updating plans

[00:17:41](https://youtu.be/aIDSmgsT4p8?t=1061) From structured world environments to natural language

[00:18:12](https://youtu.be/aIDSmgsT4p8?t=1092) Human role playing evaluation

[00:18:41](https://youtu.be/aIDSmgsT4p8?t=1121) The problems of the ChatGPT powered game

[00:19:08](https://youtu.be/aIDSmgsT4p8?t=1148) Ethics and societal impact

[00:20:14](https://youtu.be/aIDSmgsT4p8?t=1214) Demo of the game

CCS CONCEPTS

‚Ä¢ Human-centered computing‚ÜíInteractive systems and tools;

‚Ä¢ Computing methodologies ‚Üí Natural language processing.

KEYWORDS

Human-AI Interaction, agents, generative AI, large language models

Generative Agents: Interactive Simulacra of Human Behavior

Generative agents create believable simulacra of human behavior for interactive applications. In this work, we demonstrate generative agents by populating a sandbox environment, reminiscent of The Sims, with twenty-five agents. Users can observe and intervene as agents they plan their days, share news, form relationships, and coordinate group activities.

The Smallville sandbox world, with areas labeled. The root node describes the entire world, children describe areas (e.g., houses, cafe, stores), and leaf nodes describe objects (e.g., table, bookshelf). Agent remember a subgraph reflecting the parts of the world they have seen, in the state that they saw them.

A morning in the life of a generative agent, John Lin. John wakes up around 6 am and completes his morning routine, which includes brushing his teeth, taking a shower, and eating breakfast. He briefly catches up with his wife, Mei, and son, Eddy, before heading out to begin his workday.

At the beginning of the simulation, one agent is initialized with an intent to organize a Valentine‚Äôs Day party. Despite many possible points of failure in the ensuring chain of events‚Äîagents might not act on that intent, might not remember to tell others, might not remember to show

up‚Äîthe Valentine‚Äôs Day party does in fact occur, with a number of agents gathering and  interacting.

Generative agent architecture. Agents perceive their environment, and all perceptions are saved in a comprehensive record of the agent‚Äôs experiences called the memory stream. Based on their perceptions, the architecture retrieves relevant memories, then uses those retrieved actions to determine an action. These retrieved memories are also used to form longer-term plans, and to create higher-level reflections, which are both entered into the memory stream for future use.

The memory stream comprises a large number of observations that are relevant and irrelevant to the agent‚Äôs current situation. Retrieval identifies a subset of these observations that should be passed to the language model to condition its response to the situation.

A reflection tree for Klaus Mueller. The agent‚Äôs observations of the world, represented in the leaf nodes, are recursively synthesized to derive Klaus‚Äôs self-notion that he is highly dedicated to his research.

CONCLUSION

This paper introduces generative agents, interactive computational agents that simulate human behavior. We describe an architecture for generative agents that provides a mechanism for storing

a comprehensive record of an agent‚Äôs experiences, deepening its understanding of itself and the environment through reflection, and retrieving a compact subset of that information.



### Video Transcription


- [00:00:00](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=0) Greetings everyone. Today I am going to introduce you the first ever made game

- [00:00:05](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=5) based on the ChatGPT. Generative Agents: Interactive Simulacra of Human Behavior.

- [00:00:11](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=11) This is a research paper published just 4 days ago by the researchers from Stanford

- [00:00:16](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=16) University and Google Research. It actually has a sandbox RPG game engine and you are

- [00:00:22](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=22) able to see what is happening or you are able to interact with the NPC agents.

- [00:00:27](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=27) In this work, authors demonstrated generative agents by populating a sandbox environment

- [00:00:33](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=33) reminiscent of The Sims with 25 agents. Users can observe and intervene as agents. They plan

- [00:00:40](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=40) their days, share news, form relationships, and coordinate group activities.

- [00:00:45](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=45) So their sandbox RPG world is named as the Smallville with the areas labeled as you are

- [00:00:51](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=51) seeing on the screen. The root node describes the entire world. Children describe areas,

- [00:00:56](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=56) e.g. houses, cafe, stores, and leaf nodes describe objects, e.g. table, bookshelf.

- [00:01:02](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=62) Agents remember a subgraph reflecting the parts of the world they have seen in the state they

- [00:01:08](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=68) have saw them. So they describe their agent avatar and communication like this. A community of 25

- [00:01:14](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=74) unique agents inhabits Smallville. Each agent is represented by a simple sprite avatar.

- [00:01:20](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=80) Each agent has a description. If you have used ChatGPT or GPT4, you would already know that you

- [00:01:27](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=87) can make the GPT engine behave as someone else you like. For example, John Lin is a pharmacy

- [00:01:34](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=94) shopkeeper at the Willow Market and pharmacy who loves to help people. You can say the ChatGPT to

- [00:01:41](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=101) behave like this and communicate with the ChatGPT like that. So the GPT4 ChatGPT is able to do

- [00:01:48](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=108) role-playing really good. He is always looking for ways to make the process of getting medication

- [00:01:53](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=113) easier for his customers. So with this information, you can communicate and chat with the ChatGPT

- [00:02:01](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=121) as the ChatGPT is this John Lin character. And this is the core concept that the authors of this

- [00:02:09](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=129) paper utilized. Inter-agent communication. The agents interact with the world by their actions

- [00:02:16](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=136) and with each other through natural language. Just like you would do with the ChatGPT or with

- [00:02:21](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=141) another person. At each time step of the sandbox engine, the agents output a natural language

- [00:02:28](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=148) statement describing their current actions such as Isabella Rodriguez is writing in her journal,

- [00:02:35](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=155) Isabella Rodriguez is checking her emails, Isabella Rodriguez is talking with her family on the phone

- [00:02:41](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=161) and such. This statement is then translated into concrete movements that affect the sandbox world.

- [00:02:48](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=168) The action is displayed on the sandbox interface as a set of emojis that provide an abstract

- [00:02:53](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=173) representation of the action in the overhead view. Agents are aware of other agents in their local

- [00:03:00](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=180) area, and generative agent architecture determines whether they walk by or engage in conversation.

- [00:03:06](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=186) Here a sample in the middle of a conversation between the agents Isabella Rodriguez and Tom

- [00:03:13](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=193) Moreno about the upcoming election. In this sandbox game that others have built, users are also able to

- [00:03:22](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=202) control characters, avatars, and communicate with the agents run by the ChatGPT. A user running

- [00:03:28](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=208) this simulation can steer the simulation and intervene either by communicating with the

- [00:03:34](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=214) agent through conversation or by issuing a directive to an agent in the form of an inner

- [00:03:40](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=220) voice. Environmental interaction. Agents move around Smallville as one would in a simple video

- [00:03:47](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=227) game, entering and leaving buildings, navigating its map, and approaching other agents. Agent movements

- [00:03:53](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=233) are directed by the generative agent architecture and the sandbox game engine. When the model

- [00:03:59](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=239) dictates that the agent will move to a location. We calculate a walking path to the destination in

- [00:04:05](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=245) the Smallville environment, and the agent begins moving. So for making this sandbox environment,

- [00:04:10](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=250) they used Phaser web game development framework. The visual environment sprites, including agent

- [00:04:18](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=258) avatars, as well as environment map and collision map that we authored are imported into Phaser.

- [00:04:23](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=263) Starting from the single paragraph description, agents begin plan their days as time passes in

- [00:04:29](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=269) the sandbox world, their behaviors evolve as these agents interact with each other, and the world

- [00:04:35](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=275) build memories and relationships and coordinate joint activities. However this game is still far

- [00:04:42](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=282) from being a full-fledged game because the agents are only able to use their previous day memory.

- [00:04:50](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=290) The authors explain that we prompt the language model with the agent summary description e.g. name,

- [00:04:57](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=297) traits, and summary of their recent experiences and the summary of their previous day. So with

- [00:05:03](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=303) this much of information, the new day of the agent is determined and planned. So each day, a new plan

- [00:05:12](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=312) is made for each agent, based on the previous day experiences and based of the initial characteristics

- [00:05:19](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=319) of the agent. For example figure 3 is displaying the morning routine of the agent, John Lin. John

- [00:05:27](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=327) wakes up around 6 am and completes his morning routine which includes brushing his teeth, taking

- [00:05:33](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=333) a shower, and eating breakfast. He briefly catches up with his wife Mei and son Eddy before heading

- [00:05:40](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=340) out to begin his work day. Emerging social behaviors: by interacting with each other,

- [00:05:45](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=345) generative agents in Smallville exchange information, form new relationships, and coordinate

- [00:05:51](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=351) joint activities. These social behaviors are emergent rather than preprogrammed. Information

- [00:05:57](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=357) diffusion. As agents notice each other day, they may engage in dialogue. As they do so, information

- [00:06:03](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=363) can spread agent to agent. For instance, in a conversation between Sam and Tom at the grocery

- [00:06:09](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=369) store, Sam tells about his candidacy in the local election. So with this way, agents are spreading

- [00:06:16](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=376) their words and learning new information from other agents. Relationship memory: agents in small

- [00:06:22](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=382) will form new relationships over time and remember their interactions with other agents. For example,

- [00:06:28](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=388) Sam does not know Latoya Williams at the start. While taking a walk in Johnson Park, Sam runs into

- [00:06:35](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=395) Latoya and they introduce themselves and Latoya mentions that she is working on a photography

- [00:06:40](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=400) project. In a later interaction, Sam's interactions with Latoya indicate a memory of the interaction

- [00:06:47](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=407) as he asks hi Latoya, how is your project going and she replies hi Sam, it is going well. The hardest

- [00:06:54](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=414) part of a such sandbox RPG game is the memory currently. Because ChatGPT or GPT4 is extremely

- [00:07:03](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=423) limited with the amount of context that they can hold and remember. Therefore, for such a big game,

- [00:07:10](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=430) you have to use your own memory stream, and based on that memory, you have to give memory information

- [00:07:18](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=438) every time when you are interacting with the GPT agent. So the authors came up with these

- [00:07:25](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=445) workflow for their game: perceive memory stream, retrieve retrieved memories, plan, reflect, and

- [00:07:33](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=453) act. The authors have explained this workflow as agents perceive their environment and all

- [00:07:39](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=459) perceptions are saved in a comprehensive record of the agent's experiences called the memory

- [00:07:45](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=465) stream. Based on their perceptions the architecture retrieves relevant memories, then uses those

- [00:07:52](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=472) retrieved actions to determine an action. These retrieved memories are also used to form longer

- [00:07:58](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=478) term plans and to create higher level reflections, which are both entered into the memory stream for

- [00:08:04](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=484) future use. So, it is still not possible to use GPT engine for the entire memory of an agent.

- [00:08:12](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=492) Generative agent architecture. Their current implementation utilizes GPT 3.5 turbo version

- [00:08:19](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=499) of the ChatGPT. They expect that the architectural basics of generative agents, memory planning, and

- [00:08:26](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=506) reflection will likely remain same as language models improve. Newer language models e.g. GPT4

- [00:08:33](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=513) will continue to expand the expressivity and performance of the prompts that underpin

- [00:08:39](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=519) generative agents. So, since they were writing this paper, GPT4 API was still invitation only,

- [00:08:47](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=527) so they used the ChatGPT. Probably they would obtain much better results if the GPT4 was

- [00:08:54](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=534) available when they were working on this project. So the memory and retrieval the very important

- [00:09:00](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=540) core of this sandbox game. The challenge: this is the most important part. Creating generative

- [00:09:06](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=546) agents that can simulate human behavior requires reasoning about a set of experiences that is far

- [00:09:13](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=553) larger than what should be described in a prompt as the full memory stream can distract the model

- [00:09:19](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=559) and does not even currently fit into the limited context window. So you see it is far larger and

- [00:09:26](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=566) does not even currently fit into the limited context window. To overcome this restriction,

- [00:09:32](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=572) they developed a memory stream engine maintains a comprehensive record of the agent's experience.

- [00:09:39](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=579) So this is the core of their sandbox game. It is a list of memory objects where each object

- [00:09:46](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=586) contains a natural language description, a creation timestamp, and a most recent access

- [00:09:51](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=591) timestamp. The most basic element of the memory stream is an observation, which is an event

- [00:09:57](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=597) directly perceived by an agent. Common observations include behaviors performed by the agents

- [00:10:03](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=603) themselves or behaviors that agents perceive being performed by other agents or non-agent objects.

- [00:10:10](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=610) So this is their memory stream. We are seeing the timestamp and the description of the observation,

- [00:10:16](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=616) the experience. Desk is idle. Bed is idle. Closet is idle. Based on these memory stream, they are

- [00:10:23](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=623) planning their next actions. What are you looking forward to the most right now? Now this is important.

- [00:10:29](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=629) Isabella Rodriguez is excited to be planning a valentine's day party at the Hobbs cafe on

- [00:10:34](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=634) February 14th from 5 p.m and is eager to invite everyone to attend the party. So they need to

- [00:10:41](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=641) retrieve the memory, but not just every memory. They need to sort the memory based on recency,

- [00:10:49](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=649) importance and relevance. Then from these retrieved memories, it will ask the ChatGPT

- [00:10:56](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=656) engine to do what next. So you see each action is getting ranked by the engine they developed.

- [00:11:04](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=664) Ordering decorations for the party has 2.21 score. Researching ideas for the party has 2.20 score.

- [00:11:13](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=673) Figure 6 is explained like this: the memory stream comprises a large number of observations

- [00:11:18](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=678) that are relevant and irrelevant to the agent's current situation. Retrieval identifies a subset

- [00:11:24](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=684) of these observations that should be passed to the language model which is ChatGPT plus in this

- [00:11:30](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=690) case, condition its response to the situation. So the hardest part of their sandbox game was making

- [00:11:38](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=698) the architecture that implements a retrieval function that takes the agent's current situation

- [00:11:44](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=704) as an input and returns a subset of the memory stream to pass on the language model. This is the

- [00:11:50](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=710) most important part of making such game or such project because the gooder you retrieve the

- [00:11:58](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=718) experience, the better the result you will get with the language model. For this task, they defined

- [00:12:06](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=726) three main components. Recency assigns a higher score to memory objects that were recently

- [00:12:11](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=731) accessed so that events from a moment ago or this morning are likely to remain in the agent's

- [00:12:17](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=737) attentional sphere. Importance distinguishes mundane from core memories by assigning a higher

- [00:12:23](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=743) score to those memory objects that the agent believes to be important. There are again, many

- [00:12:29](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=749) possible implementations of an important score. The authors found that directly asking the language

- [00:12:36](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=756) model to output an integer score is effective. This is really convenient actually. So they ask

- [00:12:41](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=761) the model as like this and get the score from the model itself. The third component is relevance.

- [00:12:48](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=768) Assigns a higher score to memory objects that are related to the current situation. What is relevant

- [00:12:54](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=774) depends on the answer to relevant to what. So they condition relevance on a query memory. If the query,

- [00:13:01](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=781) for example, is that a student is discussing what to study for a chemistry test with a classmate

- [00:13:07](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=787) memory objects about their breakfast should have low relevance, whereas memory objects about the

- [00:13:13](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=793) teacher and schoolwork should have high relevance. In their implementation, they use the language

- [00:13:18](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=798) model to generate an embedding vector of the text description of each memory. Then they calculate

- [00:13:24](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=804) relevance as the cosine similarity between the memory's embedding vector and the query memory

- [00:13:30](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=810) embedding vector. So to calculate the final retrieval score, which is the core, as I said,

- [00:13:36](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=816) they normalize the recency, relevance, and importance scores to range between zero and one

- [00:13:42](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=822) by min max scaling. The retrieval function scores all memories as weighted combination of three

- [00:13:48](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=828) elements: recency, importance, and relevance. Once you build this system, the rest is done by the

- [00:13:55](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=835) language model, by the ChatGPT. So this is the core of making such game engine. However, still,

- [00:14:02](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=842) this is not perfect and not enough. Therefore, the authors came up with another memory called as

- [00:14:08](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=848) reflection. Challenge: generative agents when equipped with only raw observational memory, struggle to

- [00:14:15](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=855) generalize or make inferences. Actually, this is also because of the amount of memory they have.

- [00:14:20](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=860) They are very limited. Consider a scenario in which Klaus Mueller is asked by the user if you had to

- [00:14:27](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=867) choose one person of those you know to spend an hour with, who would it be. With access to only

- [00:14:33](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=873) observational memory the agent simply chooses the person with whom Klaus has had the most frequent

- [00:14:40](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=880) interactions and the answer would be Wolfgang, his college dorm neighbor. Unfortunately, Wolfgang and

- [00:14:46](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=886) Klaus only ever see each other in passing and do not have deep interactions. A more desirable response

- [00:14:53](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=893) requires that the agent generalize from memories of the Klaus spending hours on a research project

- [00:14:59](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=899) to generate a higher level reflection. So they developed this approach. Reflections are generated

- [00:15:05](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=905) periodically. In our implementation we generate reflections when the sum of the important scores

- [00:15:11](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=911) for the latest events perceived by the agents exceeds a certain threshold. In practice, our

- [00:15:18](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=918) agents reflected roughly two or three times a day. So another challenge is planning and reaction.

- [00:15:24](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=924) While a large language model can generate plausible behavior in response to situational

- [00:15:30](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=930) informations, agents needs to plan over a longer time horizon to ensure that their sequence of

- [00:15:37](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=937) actions is coherent and believable. If we prompt a language model with Klaus background, describe the

- [00:15:44](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=944) time, and ask what action he ought to make at given moment, Klaus would eat lunch at 12 p.m

- [00:15:50](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=950) but then again at 12 30 p.m and 1 p.m despite having already eaten his lunch twice. To overcome

- [00:15:58](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=958) this problem at the beginning of each day, they use the memory of the previous day, the description of

- [00:16:05](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=965) the agent, and they start planning abstraction of the entire day. Then they start top-down

- [00:16:14](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=974) approach and then recursively generates more detail of the each part of the day. So their

- [00:16:22](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=982) model is generates a rough sketch of the agent's plan for a day divided into five to eight chunks.

- [00:16:29](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=989) Then by recursively, these chunks are subdivided into further chunks and recursively then

- [00:16:37](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=997) subdivided into five to 50 minute chunks e.g., 4 p.m grab a light snack such as a piece of fruit, a

- [00:16:46](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1006) granola bar, or some nuts. 4.05 p.m take a short walk around his workspace. So this is how

- [00:16:53](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1013) their planning works. Of course, there is reacting and updating plans.

- [00:16:58](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1018) Generative agents operate in an action loop where at each time step they perceive the world around

- [00:17:03](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1023) them and those perceived observations are stored in their memory stream. They prompt the language

- [00:17:10](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1030) model e.g. the ChatGPT with these observations to decide whether the agent should continue with

- [00:17:17](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1037) their existing plan or react. So the context summary is generated through two prompts that

- [00:17:22](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1042) retrieve memories via the queries. What is observer's relationship with the observed entity

- [00:17:28](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1048) and observed entity is action status of the observed entity and their answers summarized

- [00:17:35](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1055) together. The output suggests that John could consider asking Eddy about his music composition

- [00:17:41](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1061) project. So how all these are working? From structured world environments to natural language

- [00:17:48](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1068) and back again, they briefly describe their architecture. To achieve this, they represent

- [00:17:54](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1074) the sandbox environment areas and objects as a tree data structure with an edge in the tree

- [00:18:00](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1080) indicating a containment relationship. In the sandbox world, they convert this tree into natural

- [00:18:05](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1085) language to past generative agents. For instance, stove being a child of kitchen is rendered into

- [00:18:12](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1092) there is a stove in the kitchen. They also compared the behaviors. The full architecture which includes

- [00:18:19](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1099) reflection, plan, and observation performed the best. They also hired humans to evaluate them.

- [00:18:27](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1107) So this human crowd worker played role play condition that is intended to provide a human

- [00:18:34](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1114) baseline. However, they found that full architecture were performing better than the human role players.

- [00:18:41](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1121) So this is just amazing if you ask me. Even though their system was very limited and very

- [00:18:48](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1128) constricted with only one day memory and other things, there were still a lot of problems. For

- [00:18:55](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1135) example, the famous hallucination problem has also occurred in their game. The hallucination problem

- [00:19:03](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1143) is the most severe problem of large language models such as ChatGPT, GPT. If you have used

- [00:19:08](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1148) them, you would know this by already. The authors also discussed the ethics and societal impact.

- [00:19:15](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1155) I also find this very important because one of the very big risk is people performing

- [00:19:23](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1163) parasocial relationships with generative agents. Even when such relationship may not be appropriate,

- [00:19:29](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1169) this is really really important thing to be care off. Despite being aware that generative

- [00:19:35](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1175) agents are computational entities, users may anthropomorphize them or attach human emotions

- [00:19:42](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1182) to them. To mitigate this risk, they propose two principles. First, generative agents should

- [00:19:48](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1188) explicitly disclose their nature as computational entities. Second, developers of generative agents

- [00:19:55](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1195) must ensure that the agents or the underlying language models be value aligned so that they

- [00:20:01](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1201) do not engage in behaviors that would be inappropriate given the context e.g. to recuperate

- [00:20:08](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1208) confessions of love. The paper is published on arxiv. The link will be in the description.

- [00:20:14](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1214) Moreover, the authors also published a simulation, but it is pre-computed so you won't be able to

- [00:20:21](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1221) play with it. You can pick any character you want and see how they are playing in this sandbox RPG

- [00:20:28](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1228) environment. You see. It started with Monday, February 13th at 6 am. The agents are moving

- [00:20:35](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1235) and doing their things. You can click any agent and see their behavior. Their current status are

- [00:20:42](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1242) also displayed with these icons. This one is sleeping. This one is taking a shower. This one

- [00:20:47](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1247) is reading a book. This one is drawing something. Let's look at that. So when we click, we can see

- [00:20:53](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1253) the action that they are doing. So this is the actual gameplay. It is of course simple because

- [00:20:58](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1258) this was a research. This was not a full-fledged game, but it is pretty cute. So this one is doing

- [00:21:05](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1265) some workout in the beginning. This one is still sleeping. This one is changing clothes. For example

- [00:21:11](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1271) let's look at this one. Yeah, looks like the demo is also not working very well because even though

- [00:21:17](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1277) we click, we are not able to see that agent right now. Yes. Also, we are not able to move the demo.

- [00:21:25](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1285) Maybe this is because I am using Google Chrome, but I am not sure it shouldn't be. By the way, when you

- [00:21:31](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1291) click the agent in the very bottom, you see the current action, location, and current conversation

- [00:21:38](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1298) as well. This is a pre-recording as I said, this is not live action and you can't control any agent

- [00:21:45](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1305) in this demo. So the link of this demo will be also in the description. The author still didn't

- [00:21:51](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1311) release any scripts so you won't be able to run this on your computer, but this is the beginning of

- [00:21:59](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1319) GPT powered RPG games. We can say that if you have enjoyed this video, please like subscribe

- [00:22:06](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1326) to not miss any news. I also have excellent tutorials for Stable Diffusion and other

- [00:22:11](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1331) technological events. If you support us on Patreon or by joining Youtube, that would help us

- [00:22:17](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1337) tremendously. The links will be in the description and also in the comment section. Hopefully see you

- [00:22:23](https://www.youtube.com/watch?v=aIDSmgsT4p8&t=1343) in another awesome video.
